(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,844933,t=>{"use strict";t.s(["clear",()=>E,"insertEdge",()=>H,"insertEdgeLabel",()=>C,"markers_default",()=>tt,"positionEdgeLabel",()=>R]);var e=t.i(322118),r=t.i(354851),a=t.i(642585),i=t.i(691926),n=t.i(244196),s=t.i(372534);t.i(991577);var o=t.i(352195),l=t.i(460605),h=t.i(488446),c=t.i(219412),d=t.i(334236),_=t.i(187580),u=t.i(114605),p=t.i(211986),f=t.i(12669),g=t.i(373593),y=t.i(814826),x=t.i(472737),m=t.i(358424),b=t.i(692423),v=t.i(570126),k=(0,s.__name)((t,e,r,a,i,n)=>{e.arrowTypeStart&&M(t,"start",e.arrowTypeStart,r,a,i,n),e.arrowTypeEnd&&M(t,"end",e.arrowTypeEnd,r,a,i,n)},"addEdgeMarkers"),w={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},M=(0,s.__name)((t,e,r,a,i,n,o)=>{let l=w[r];if(!l)return void s.log.warn("Unknown arrow type: ".concat(r));let h=l.type,c="".concat(i,"_").concat(n,"-").concat(h).concat("start"===e?"Start":"End");if(o&&""!==o.trim()){let r=o.replace(/[^\dA-Za-z]/g,"_"),i="".concat(c,"_").concat(r);if(!document.getElementById(i)){let t=document.getElementById(c);if(t){var d;let e=t.cloneNode(!0);e.id=i,e.querySelectorAll("path, circle, line").forEach(t=>{t.setAttribute("stroke",o),l.fill&&t.setAttribute("fill",o)}),null==(d=t.parentNode)||d.appendChild(e)}}t.attr("marker-".concat(e),"url(".concat(a,"#").concat(i,")"))}else t.attr("marker-".concat(e),"url(".concat(a,"#").concat(c,")"))},"addEdgeMarker"),S=new Map,L=new Map,E=(0,s.__name)(()=>{S.clear(),L.clear()},"clear"),O=(0,s.__name)(t=>t?t.reduce((t,e)=>t+";"+e,""):"","getLabelStyles"),C=(0,s.__name)(async(t,e)=>{let a,n=(0,s.evaluate)((0,s.getConfig2)().flowchart.htmlLabels),o=await (0,i.createText)(t,e.label,{style:O(e.labelStyle),useHtmlLabels:n,addSvgBackground:!0,isNode:!1});s.log.info("abc82",e,e.labelType);let l=t.insert("g").attr("class","edgeLabel"),h=l.insert("g").attr("class","label");h.node().appendChild(o);let c=o.getBBox();if(n){let t=o.children[0],e=(0,b.select)(o);c=t.getBoundingClientRect(),e.attr("width",c.width),e.attr("height",c.height)}if(h.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),S.set(e.id,l),e.width=c.width,e.height=c.height,e.startLabelLeft){let i=await (0,r.createLabel_default)(e.startLabelLeft,O(e.labelStyle)),n=t.insert("g").attr("class","edgeTerminals"),s=n.insert("g").attr("class","inner");a=s.node().appendChild(i);let o=i.getBBox();s.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),L.get(e.id)||L.set(e.id,{}),L.get(e.id).startLeft=n,T(a,e.startLabelLeft)}if(e.startLabelRight){let i=await (0,r.createLabel_default)(e.startLabelRight,O(e.labelStyle)),n=t.insert("g").attr("class","edgeTerminals"),s=n.insert("g").attr("class","inner");a=n.node().appendChild(i),s.node().appendChild(i);let o=i.getBBox();s.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),L.get(e.id)||L.set(e.id,{}),L.get(e.id).startRight=n,T(a,e.startLabelRight)}if(e.endLabelLeft){let i=await (0,r.createLabel_default)(e.endLabelLeft,O(e.labelStyle)),n=t.insert("g").attr("class","edgeTerminals"),s=n.insert("g").attr("class","inner");a=s.node().appendChild(i);let o=i.getBBox();s.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),n.node().appendChild(i),L.get(e.id)||L.set(e.id,{}),L.get(e.id).endLeft=n,T(a,e.endLabelLeft)}if(e.endLabelRight){let i=await (0,r.createLabel_default)(e.endLabelRight,O(e.labelStyle)),n=t.insert("g").attr("class","edgeTerminals"),s=n.insert("g").attr("class","inner");a=s.node().appendChild(i);let o=i.getBBox();s.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),n.node().appendChild(i),L.get(e.id)||L.set(e.id,{}),L.get(e.id).endRight=n,T(a,e.endLabelRight)}return o},"insertEdgeLabel");function T(t,e){(0,s.getConfig2)().flowchart.htmlLabels&&t&&(t.style.width=9*e.length+"px",t.style.height="12px")}(0,s.__name)(T,"setTerminalWidth");var R=(0,s.__name)((t,e)=>{s.log.debug("Moving label abc88 ",t.id,t.label,S.get(t.id),e);let r=e.updatedPath?e.updatedPath:e.originalPath,i=(0,s.getConfig2)(),{subGraphTitleTotalMargin:o}=(0,a.getSubGraphTitleMargins)(i);if(t.label){let a=S.get(t.id),i=t.x,l=t.y;if(r){let a=n.utils_default.calcLabelPosition(r);s.log.debug("Moving label "+t.label+" from (",i,",",l,") to (",a.x,",",a.y,") abc88"),e.updatedPath&&(i=a.x,l=a.y)}a.attr("transform","translate(".concat(i,", ").concat(l+o/2,")"))}if(t.startLabelLeft){let e=L.get(t.id).startLeft,a=t.x,i=t.y;if(r){let e=n.utils_default.calcTerminalLabelPosition(10*!!t.arrowTypeStart,"start_left",r);a=e.x,i=e.y}e.attr("transform","translate(".concat(a,", ").concat(i,")"))}if(t.startLabelRight){let e=L.get(t.id).startRight,a=t.x,i=t.y;if(r){let e=n.utils_default.calcTerminalLabelPosition(10*!!t.arrowTypeStart,"start_right",r);a=e.x,i=e.y}e.attr("transform","translate(".concat(a,", ").concat(i,")"))}if(t.endLabelLeft){let e=L.get(t.id).endLeft,a=t.x,i=t.y;if(r){let e=n.utils_default.calcTerminalLabelPosition(10*!!t.arrowTypeEnd,"end_left",r);a=e.x,i=e.y}e.attr("transform","translate(".concat(a,", ").concat(i,")"))}if(t.endLabelRight){let e=L.get(t.id).endRight,a=t.x,i=t.y;if(r){let e=n.utils_default.calcTerminalLabelPosition(10*!!t.arrowTypeEnd,"end_right",r);a=e.x,i=e.y}e.attr("transform","translate(".concat(a,", ").concat(i,")"))}},"positionEdgeLabel"),B=(0,s.__name)((t,e)=>{let r=t.x,a=t.y,i=Math.abs(e.x-r),n=Math.abs(e.y-a),s=t.width/2,o=t.height/2;return i>=s||n>=o},"outsideNode"),N=(0,s.__name)((t,e,r)=>{s.log.debug("intersection calc abc89:\n  outsidePoint: ".concat(JSON.stringify(e),"\n  insidePoint : ").concat(JSON.stringify(r),"\n  node        : x:").concat(t.x," y:").concat(t.y," w:").concat(t.width," h:").concat(t.height));let a=t.x,i=t.y,n=Math.abs(a-r.x),o=t.width/2,l=r.x<e.x?o-n:o+n,h=t.height/2,c=Math.abs(e.y-r.y),d=Math.abs(e.x-r.x);if(Math.abs(i-e.y)*o>Math.abs(a-e.x)*h){let t=r.y<e.y?e.y-h-i:i-h-e.y;l=d*t/c;let a={x:r.x<e.x?r.x+l:r.x-d+l,y:r.y<e.y?r.y+c-t:r.y-c+t};return 0===l&&(a.x=e.x,a.y=e.y),0===d&&(a.x=e.x),0===c&&(a.y=e.y),s.log.debug("abc89 top/bottom calc, Q ".concat(c,", q ").concat(t,", R ").concat(d,", r ").concat(l),a),a}{let t=c*(l=r.x<e.x?e.x-o-a:a-o-e.x)/d,i=r.x<e.x?r.x+d-l:r.x-d+l,n=r.y<e.y?r.y+t:r.y-t;return s.log.debug("sides calc abc89, Q ".concat(c,", q ").concat(t,", R ").concat(d,", r ").concat(l),{_x:i,_y:n}),0===l&&(i=e.x,n=e.y),0===d&&(i=e.x),0===c&&(n=e.y),{x:i,y:n}}},"intersection"),P=(0,s.__name)((t,e)=>{s.log.warn("abc88 cutPathAtIntersect",t,e);let r=[],a=t[0],i=!1;return t.forEach(t=>{if(s.log.info("abc88 checking point",t,e),B(e,t)||i)s.log.warn("abc88 outside",t,a),a=t,i||r.push(t);else{let n=N(e,a,t);s.log.debug("abc88 inside",t,a,n),s.log.debug("abc88 intersection",n,e);let o=!1;r.forEach(t=>{o=o||t.x===n.x&&t.y===n.y}),r.some(t=>t.x===n.x&&t.y===n.y)?s.log.warn("abc88 no intersect",n,r):r.push(n),i=!0}}),s.log.debug("returning points",r),r},"cutPathAtIntersect");function W(t){let e=[],r=[];for(let a=1;a<t.length-1;a++){let i=t[a-1],n=t[a],s=t[a+1];i.x===n.x&&n.y===s.y&&Math.abs(n.x-s.x)>5&&Math.abs(n.y-i.y)>5?(e.push(n),r.push(a)):i.y===n.y&&n.x===s.x&&Math.abs(n.x-i.x)>5&&Math.abs(n.y-s.y)>5&&(e.push(n),r.push(a))}return{cornerPoints:e,cornerPointPositions:r}}(0,s.__name)(W,"extractCornerPoints");var A=(0,s.__name)(function(t,e,r){let a=e.x-t.x,i=e.y-t.y,n=r/Math.sqrt(a*a+i*i);return{x:e.x-n*a,y:e.y-n*i}},"findAdjacentPoint"),z=(0,s.__name)(function(t){let{cornerPointPositions:e}=W(t),r=[];for(let a=0;a<t.length;a++)if(e.includes(a)){let e=t[a-1],i=t[a+1],n=t[a],o=A(e,n,5),l=A(i,n,5),h=l.x-o.x,c=l.y-o.y;r.push(o);let d=2*Math.sqrt(2),_={x:n.x,y:n.y};Math.abs(i.x-e.x)>10&&Math.abs(i.y-e.y)>=10?(s.log.debug("Corner point fixing",Math.abs(i.x-e.x),Math.abs(i.y-e.y)),_=n.x===o.x?{x:h<0?o.x-5+d:o.x+5-d,y:c<0?o.y-d:o.y+d}:{x:h<0?o.x-d:o.x+d,y:c<0?o.y-5+d:o.y+5-d}):s.log.debug("Corner point skipping fixing",Math.abs(i.x-e.x),Math.abs(i.y-e.y)),r.push(_,l)}else r.push(t[a]);return r},"fixCorners"),H=(0,s.__name)(function(t,a,i,n,w,M,S){var L;let E,O,{handDrawnSeed:C}=(0,s.getConfig2)(),T=a.points,R=!1,B=[];for(let t in a.cssCompiledStyles)(0,r.isLabelStyle)(t)||B.push(a.cssCompiledStyles[t]);M.intersect&&w.intersect&&((T=T.slice(1,a.points.length-1)).unshift(w.intersect(T[0])),s.log.debug("Last point APA12",a.start,"-->",a.end,T[T.length-1],M,M.intersect(T[T.length-1])),T.push(M.intersect(T[T.length-1]))),a.toCluster&&(s.log.info("to cluster abc88",i.get(a.toCluster)),T=P(a.points,i.get(a.toCluster).node),R=!0),a.fromCluster&&(s.log.debug("from cluster abc88",i.get(a.fromCluster),JSON.stringify(T,null,2)),T=P(T.reverse(),i.get(a.fromCluster).node).reverse(),R=!0);let N=T.filter(t=>!Number.isNaN(t.y));N=z(N);let W=o.curveBasis;switch(W=l.curveLinear,a.curve){case"linear":W=l.curveLinear;break;case"basis":default:W=o.curveBasis;break;case"cardinal":W=h.curveCardinal;break;case"bumpX":W=c.curveBumpX;break;case"bumpY":W=d.curveBumpY;break;case"catmullRom":W=_.curveCatmullRom;break;case"monotoneX":W=u.curveMonotoneX;break;case"monotoneY":W=p.curveMonotoneY;break;case"natural":W=f.curveNatural;break;case"step":W=g.curveStep;break;case"stepAfter":W=y.curveStepAfter;break;case"stepBefore":W=x.curveStepBefore}let{x:A,y:H}=(0,e.getLineFunctionsWithOffset)(a),j=(0,m.line)().x(A).y(H).curve(W);switch(a.thickness){case"normal":default:E="edge-thickness-normal";break;case"thick":E="edge-thickness-thick";break;case"invisible":E="edge-thickness-invisible"}switch(a.pattern){case"solid":default:E+=" edge-pattern-solid";break;case"dotted":E+=" edge-pattern-dotted";break;case"dashed":E+=" edge-pattern-dashed"}let F=j(N),I=Array.isArray(a.style)?a.style:[a.style],X=I.find(t=>null==t?void 0:t.startsWith("stroke:"));if("handDrawn"===a.look){let e=v.default.svg(t);Object.assign([],N);let r=e.path(F,{roughness:.3,seed:C});E+=" transition";let i=(O=(0,b.select)(r).select("path").attr("id",a.id).attr("class"," "+E+(a.classes?" "+a.classes:"")).attr("style",I?I.reduce((t,e)=>t+";"+e,""):"")).attr("d");O.attr("d",i),t.node().appendChild(O.node())}else{let e=B.join(";"),r=I?I.reduce((t,e)=>t+e+";",""):"",i="";a.animate&&(i=" edge-animation-fast"),a.animation&&(i=" edge-animation-"+a.animation);let n=e?e+";"+r+";":r;O=t.append("path").attr("d",F).attr("id",a.id).attr("class"," "+E+(a.classes?" "+a.classes:"")+(null!=i?i:"")).attr("style",n),X=null==(L=n.match(/stroke:([^;]+)/))?void 0:L[1]}let Y="";((0,s.getConfig2)().flowchart.arrowMarkerAbsolute||(0,s.getConfig2)().state.arrowMarkerAbsolute)&&(Y=(Y=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(").replace(/\)/g,"\\)")),s.log.info("arrowTypeStart",a.arrowTypeStart),s.log.info("arrowTypeEnd",a.arrowTypeEnd),k(O,a,Y,S,n,X);let U={};return R&&(U.updatedPath=T),U.originalPath=a.points,U},"insertEdge"),j=(0,s.__name)((t,e,r,a)=>{e.forEach(e=>{V[e](t,r,a)})},"insertMarkers"),F=(0,s.__name)((t,e,r)=>{s.log.trace("Making markers for ",r),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),I=(0,s.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),X=(0,s.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),Y=(0,s.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",r+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),U=(0,s.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",r+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),D=(0,s.__name)((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),q=(0,s.__name)((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),Z=(0,s.__name)((t,e,r)=>{t.append("marker").attr("id",r+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",r+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),Q=(0,s.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),G=(0,s.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",r+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),K=(0,s.__name)((t,e,r)=>{let a=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),a.append("path").attr("d","M9,0 L9,18");let i=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),i.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),$=(0,s.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",r+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),J=(0,s.__name)((t,e,r)=>{let a=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),a.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");let i=t.append("defs").append("marker").attr("id",r+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),i.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),V={extension:F,composition:I,aggregation:X,dependency:Y,lollipop:U,point:D,circle:q,cross:Z,barb:Q,only_one:G,zero_or_one:K,one_or_more:$,zero_or_more:J,requirement_arrow:(0,s.__name)((t,e,r)=>{t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d","M0,0\n      L20,10\n      M20,10\n      L0,20")},"requirement_arrow"),requirement_contains:(0,s.__name)((t,e,r)=>{let a=t.append("defs").append("marker").attr("id",r+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");a.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),a.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),a.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains")},tt=j},322118,t=>{"use strict";t.s(["getLineFunctionsWithOffset",()=>n]);var e=t.i(372534),r={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function a(t,e){if(void 0===t||void 0===e)return{angle:0,deltaX:0,deltaY:0};t=i(t),e=i(e);let[r,a]=[t.x,t.y],[n,s]=[e.x,e.y],o=n-r,l=s-a;return{angle:Math.atan(l/o),deltaX:o,deltaY:l}}(0,e.__name)(a,"calculateDeltaAndAngle");var i=(0,e.__name)(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),n=(0,e.__name)(t=>({x:(0,e.__name)(function(e,n,s){let o=0,l=i(s[0]).x<i(s[s.length-1]).x?"left":"right";if(0===n&&Object.hasOwn(r,t.arrowTypeStart)){let{angle:e,deltaX:i}=a(s[0],s[1]);o=r[t.arrowTypeStart]*Math.cos(e)*(i>=0?1:-1)}else if(n===s.length-1&&Object.hasOwn(r,t.arrowTypeEnd)){let{angle:e,deltaX:i}=a(s[s.length-1],s[s.length-2]);o=r[t.arrowTypeEnd]*Math.cos(e)*(i>=0?1:-1)}let h=Math.abs(i(e).x-i(s[s.length-1]).x),c=Math.abs(i(e).y-i(s[s.length-1]).y),d=Math.abs(i(e).x-i(s[0]).x),_=Math.abs(i(e).y-i(s[0]).y),u=r[t.arrowTypeStart],p=r[t.arrowTypeEnd];if(h<p&&h>0&&c<p){let t=p+1-h;t*="right"===l?-1:1,o-=t}if(d<u&&d>0&&_<u){let t=u+1-d;t*="right"===l?-1:1,o+=t}return i(e).x+o},"x"),y:(0,e.__name)(function(e,n,s){let o=0,l=i(s[0]).y<i(s[s.length-1]).y?"down":"up";if(0===n&&Object.hasOwn(r,t.arrowTypeStart)){let{angle:e,deltaY:i}=a(s[0],s[1]);o=r[t.arrowTypeStart]*Math.abs(Math.sin(e))*(i>=0?1:-1)}else if(n===s.length-1&&Object.hasOwn(r,t.arrowTypeEnd)){let{angle:e,deltaY:i}=a(s[s.length-1],s[s.length-2]);o=r[t.arrowTypeEnd]*Math.abs(Math.sin(e))*(i>=0?1:-1)}let h=Math.abs(i(e).y-i(s[s.length-1]).y),c=Math.abs(i(e).x-i(s[s.length-1]).x),d=Math.abs(i(e).y-i(s[0]).y),_=Math.abs(i(e).x-i(s[0]).x),u=r[t.arrowTypeStart],p=r[t.arrowTypeEnd];if(h<p&&h>0&&c<p){let t=p+1-h;t*="up"===l?-1:1,o-=t}if(d<u&&d>0&&_<u){let t=u+1-d;t*="up"===l?-1:1,o+=t}return i(e).y+o},"y")}),"getLineFunctionsWithOffset")},879521,t=>{"use strict";t.s(["getIconSVG",()=>k,"registerIconPacks",()=>b,"unknownIcon",()=>y],879521);var e=t.i(372534);let r=Object.freeze({left:0,top:0,width:16,height:16}),a=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),i=Object.freeze({...r,...a}),n=Object.freeze({...i,body:"",hidden:!1});function s(t,e){let r=function(t,e){let r={};!t.hFlip!=!e.hFlip&&(r.hFlip=!0),!t.vFlip!=!e.vFlip&&(r.vFlip=!0);let a=((t.rotate||0)+(e.rotate||0))%4;return a&&(r.rotate=a),r}(t,e);for(let i in n)i in a?i in t&&!(i in r)&&(r[i]=a[i]):i in e?r[i]=e[i]:i in t&&(r[i]=t[i]);return r}function o(t,e,r){let a=t.icons,i=t.aliases||Object.create(null),n={};function o(t){n=s(a[t]||i[t],n)}return o(e),r.forEach(o),s(t,n)}let l=Object.freeze({...Object.freeze({width:null,height:null}),...a}),h=/(-?[0-9.]*[0-9]+[0-9.]*)/g,c=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function d(t,e,r){if(1===e)return t;if(r=r||100,"number"==typeof t)return Math.ceil(t*e*r)/r;if("string"!=typeof t)return t;let a=t.split(h);if(null===a||!a.length)return t;let i=[],n=a.shift(),s=c.test(n);for(;;){if(s){let t=parseFloat(n);isNaN(t)?i.push(n):i.push(Math.ceil(t*e*r)/r)}else i.push(n);if(void 0===(n=a.shift()))return i.join("");s=!s}}let _=/\sid="(\S+)"/g,u="IconifyId"+Date.now().toString(16)+(0x1000000*Math.random()|0).toString(16),p=0,f=function(t,e,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=t.split(":");if("@"===t.slice(0,1)){if(i.length<2||i.length>3)return null;a=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){let t=i.pop(),r=i.pop(),n={provider:i.length>0?i[0]:a,prefix:r,name:t};return e&&!g(n)?null:n}let n=i[0],s=n.split("-");if(s.length>1){let t={provider:a,prefix:s.shift(),name:s.join("-")};return e&&!g(t)?null:t}if(r&&""===a){let t={provider:a,prefix:"",name:n};return e&&!g(t,r)?null:t}return null},g=(t,e)=>!!t&&!!((e&&""===t.prefix||t.prefix)&&t.name);var y={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},x=new Map,m=new Map,b=(0,e.__name)(t=>{for(let r of t){if(!r.name)throw Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(e.log.debug("Registering icon pack:",r.name),"loader"in r)m.set(r.name,r.loader);else if("icons"in r)x.set(r.name,r.icons);else throw e.log.error("Invalid icon loader:",r),Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),v=(0,e.__name)(async(t,r)=>{let a=f(t,!0,void 0!==r);if(!a)throw Error("Invalid icon name: ".concat(t));let i=a.prefix||r;if(!i)throw Error("Icon name must contain a prefix: ".concat(t));let n=x.get(i);if(!n){let t=m.get(i);if(!t)throw Error("Icon set not found: ".concat(a.prefix));try{n={...await t(),prefix:i},x.set(i,n)}catch(t){throw e.log.error(t),Error("Failed to load icon set: ".concat(a.prefix))}}let s=function(t,e){if(t.icons[e])return o(t,e,[]);let r=function(t,e){let r=t.icons,a=t.aliases||Object.create(null),i=Object.create(null);return(e||Object.keys(r).concat(Object.keys(a))).forEach(function t(e){if(r[e])return i[e]=[];if(!(e in i)){i[e]=null;let r=a[e]&&a[e].parent,n=r&&t(r);n&&(i[e]=[r].concat(n))}return i[e]}),i}(t,[e])[e];return r?o(t,e,r):null}(n,a.name);if(!s)throw Error("Icon not found: ".concat(t));return s},"getRegisteredIconData"),k=(0,e.__name)(async(t,r)=>{let a;try{a=await v(t,null==r?void 0:r.fallbackPrefix)}catch(t){e.log.error(t),a=y}let n=function(t,e){let r,a,n={...i,...t},s={...l,...e},o={left:n.left,top:n.top,width:n.width,height:n.height},h=n.body;[n,s].forEach(t=>{let e,r=[],a=t.hFlip,i=t.vFlip,n=t.rotate;switch(a?i?n+=2:(r.push("translate("+(o.width+o.left).toString()+" "+(0-o.top).toString()+")"),r.push("scale(-1 1)"),o.top=o.left=0):i&&(r.push("translate("+(0-o.left).toString()+" "+(o.height+o.top).toString()+")"),r.push("scale(1 -1)"),o.top=o.left=0),n<0&&(n-=4*Math.floor(n/4)),n%=4){case 1:r.unshift("rotate(90 "+(e=o.height/2+o.top).toString()+" "+e.toString()+")");break;case 2:r.unshift("rotate(180 "+(o.width/2+o.left).toString()+" "+(o.height/2+o.top).toString()+")");break;case 3:r.unshift("rotate(-90 "+(e=o.width/2+o.left).toString()+" "+e.toString()+")")}n%2==1&&(o.left!==o.top&&(e=o.left,o.left=o.top,o.top=e),o.width!==o.height&&(e=o.width,o.width=o.height,o.height=e)),r.length&&(h=function(t,e,r){var a,i;let n=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"defs",r="",a=t.indexOf("<"+e);for(;a>=0;){let i=t.indexOf(">",a),n=t.indexOf("</"+e);if(-1===i||-1===n)break;let s=t.indexOf(">",n);if(-1===s)break;r+=t.slice(i+1,n).trim(),t=t.slice(0,a).trim()+t.slice(s+1)}return{defs:r,content:t}}(t);return a=n.defs,i=e+n.content+r,a?"<defs>"+a+"</defs>"+i:i}(h,'<g transform="'+r.join(" ")+'">',"</g>"))});let c=s.width,_=s.height,u=o.width,p=o.height;null===c?r=d(a=null===_?"1em":"auto"===_?p:_,u/p):(r="auto"===c?u:c,a=null===_?d(r,p/u):"auto"===_?p:_);let f={},g=(t,e)=>{"unset"!==e&&"undefined"!==e&&"none"!==e&&(f[t]=e.toString())};g("width",r),g("height",a);let y=[o.left,o.top,u,p];return f.viewBox=y.join(" "),{attributes:f,viewBox:y,body:h}}(a,r);return function(t,e){let r=-1===t.indexOf("xlink:")?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(let t in e)r+=" "+t+'="'+e[t]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+t+"</svg>"}(function(t){let e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,a=[];for(;e=_.exec(t);)a.push(e[1]);if(!a.length)return t;let i="suffix"+(0x1000000*Math.random()|Date.now()).toString(16);return a.forEach(e=>{let a="function"==typeof r?r(e):r+(p++).toString(),n=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(RegExp('([#;"])('+n+')([")]|\\.[a-z])',"g"),"$1"+a+i+"$3")}),t=t.replace(RegExp(i,"g"),"")}(n.body),n.attributes)},"getIconSVG")},557553,(t,e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BLANK_URL=r.relativeFirstCharacters=r.whitespaceEscapeCharsRegex=r.urlSchemeRegex=r.ctrlCharactersRegex=r.htmlCtrlEntityRegex=r.htmlEntitiesRegex=r.invalidProtocolRegex=void 0,r.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,r.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,r.htmlCtrlEntityRegex=/&(newline|tab);/gi,r.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,r.urlSchemeRegex=/^.+(:|&colon;)/gim,r.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,r.relativeFirstCharacters=[".","/"],r.BLANK_URL="about:blank"},181713,(t,e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.sanitizeUrl=void 0;var a=t.r(557553);function i(t){try{return decodeURIComponent(t)}catch(e){return t}}r.sanitizeUrl=function(t){if(!t)return a.BLANK_URL;var e,r=i(t.trim());do e=(r=i(r=r.replace(a.ctrlCharactersRegex,"").replace(a.htmlEntitiesRegex,function(t,e){return String.fromCharCode(e)}).replace(a.htmlCtrlEntityRegex,"").replace(a.ctrlCharactersRegex,"").replace(a.whitespaceEscapeCharsRegex,"").trim())).match(a.ctrlCharactersRegex)||r.match(a.htmlEntitiesRegex)||r.match(a.htmlCtrlEntityRegex)||r.match(a.whitespaceEscapeCharsRegex);while(e&&e.length>0)var n=r;if(!n)return a.BLANK_URL;if(a.relativeFirstCharacters.indexOf(n[0])>-1)return n;var s=n.trimStart(),o=s.match(a.urlSchemeRegex);if(!o)return n;var l=o[0].toLowerCase().trim();if(a.invalidProtocolRegex.test(l))return a.BLANK_URL;var h=s.replace(/\\/g,"/");if("mailto:"===l||l.includes("://"))return h;if("http:"===l||"https:"===l){if(!URL.canParse(h))return a.BLANK_URL;var c=new URL(h);return c.protocol=c.protocol.toLowerCase(),c.hostname=c.hostname.toLowerCase(),c.toString()}return h}},244196,488446,187580,631982,t=>{"use strict";t.s(["ZERO_WIDTH_SPACE",()=>tf,"calculateTextHeight",()=>tI,"calculateTextWidth",()=>tX,"cleanAndMerge",()=>tG,"decodeEntities",()=>tJ,"encodeEntities",()=>t$,"generateId",()=>tP,"getEdgeId",()=>tV,"getStylesFromArray",()=>tB,"handleUndefinedAttr",()=>t0,"interpolateToCurve",()=>tk,"isDetailedError",()=>tq,"parseFontSize",()=>tQ,"random",()=>tA,"removeDirectives",()=>tb,"utils_default",()=>tK,"wrapLabel",()=>tj],244196);var e,r,a=t.i(372534),i=t.i(181713);t.i(991577);var n=t.i(352195),s=t.i(527750),o=t.i(995066),l=t.i(219412),h=t.i(334236),c=t.i(458968);function d(t,e){this._basis=new c.Basis(t),this._beta=e}d.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,r=t.length-1;if(r>0)for(var a,i=t[0],n=e[0],s=t[r]-i,o=e[r]-n,l=-1;++l<=r;)a=l/r,this._basis.point(this._beta*t[l]+(1-this._beta)*(i+a*s),this._beta*e[l]+(1-this._beta)*(n+a*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};let _=function t(e){function r(t){return 1===e?new c.Basis(t):new d(t,e)}return r.beta=function(e){return t(+e)},r}(.85);var u=t.i(709286);function p(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function f(t,e){this._context=t,this._k=(1-e)/6}f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:p(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t*=1,e*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:p(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let g=function t(e){function r(t){return new f(t,e)}return r.tension=function(e){return t(+e)},r}(0);function y(t,e){this._context=t,this._k=(1-e)/6}y.prototype={areaStart:u.default,areaEnd:u.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t*=1,e*=1,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:p(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let x=function t(e){function r(t){return new y(t,e)}return r.tension=function(e){return t(+e)},r}(0);function m(t,e){this._context=t,this._k=(1-e)/6}m.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t*=1,e*=1,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:p(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let b=function t(e){function r(t){return new m(t,e)}return r.tension=function(e){return t(+e)},r}(0);t.s(["curveCardinal",()=>g],488446);var v=t.i(424885);function k(t,e,r){var a=t._x1,i=t._y1,n=t._x2,s=t._y2;if(t._l01_a>v.epsilon){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);a=(a*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>v.epsilon){var h=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);n=(n*h+t._x1*t._l23_2a-e*t._l12_2a)/c,s=(s*h+t._y1*t._l23_2a-r*t._l12_2a)/c}t._context.bezierCurveTo(a,i,n,s,t._x2,t._y2)}function w(t,e){this._context=t,this._alpha=e}w.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t*=1,e*=1,this._point){var r=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:k(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let M=function t(e){function r(t){return e?new w(t,e):new f(t,0)}return r.alpha=function(e){return t(+e)},r}(.5);function S(t,e){this._context=t,this._alpha=e}S.prototype={areaStart:u.default,areaEnd:u.default,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t*=1,e*=1,this._point){var r=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:k(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let L=function t(e){function r(t){return e?new S(t,e):new y(t,0)}return r.alpha=function(e){return t(+e)},r}(.5);function E(t,e){this._context=t,this._alpha=e}E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t*=1,e*=1,this._point){var r=this._x2-t,a=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+a*a,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:k(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};let O=function t(e){function r(t){return e?new E(t,e):new m(t,0)}return r.alpha=function(e){return t(+e)},r}(.5);t.s(["curveCatmullRom",()=>M],187580);var C=t.i(460605),T=t.i(759299),R=t.i(114605),B=t.i(211986),N=t.i(12669),P=t.i(373593),W=t.i(814826),A=t.i(472737),z=t.i(692423),H=t.i(976179);t.s(["default",()=>tp],631982);var j=t.i(793290),F=t.i(846801),I=t.i(664139);let X=function(t,e,r){(void 0===r||(0,I.default)(t[e],r))&&(void 0!==r||e in t)||(0,F.default)(t,e,r)};var Y=t.i(496515),U=t.i(161176),D=t.i(848348),q=t.i(395508),Z=t.i(988128),Q=t.i(22422),G=t.i(284612),K=t.i(411021),$=t.i(169310),J=t.i(892251),V=t.i(418890),tt=t.i(104979),te=t.i(603280),tr=t.i(161184),ta=Object.prototype,ti=Function.prototype.toString,tn=ta.hasOwnProperty,ts=ti.call(Object);let to=function(t){if(!(0,tr.default)(t)||"[object Object]"!=(0,tt.default)(t))return!1;var e=(0,te.default)(t);if(null===e)return!0;var r=tn.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&ti.call(r)==ts};var tl=t.i(79213);let th=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};var tc=t.i(53286),td=t.i(420474);let t_=function(t,e,r,a,i,n,s){var o=th(t,r),l=th(e,r),h=s.get(l);if(h)return void X(t,r,h);var c=n?n(o,l,r+"",t,e,s):void 0,d=void 0===c;if(d){var _=(0,G.default)(l),u=!_&&(0,$.default)(l),p=!_&&!u&&(0,tl.default)(l);(c=l,_||u||p)?(0,G.default)(o)?c=o:(0,K.default)(o)?c=(0,q.default)(o):u?(d=!1,c=(0,U.default)(l,!0)):p?(d=!1,c=(0,D.default)(l,!0)):c=[]:to(l)||(0,Q.default)(l)?(c=o,(0,Q.default)(o))?c=(0,tc.default)(o,(0,td.default)(o)):(!(0,V.default)(o)||(0,J.default)(o))&&(c=(0,Z.default)(l)):d=!1}d&&(s.set(l,c),i(c,l,a,n,s),s.delete(l)),X(t,r,c)},tu=function t(e,r,a,i,n){e!==r&&(0,Y.default)(r,function(s,o){if(n||(n=new j.default),(0,V.default)(s))t_(e,r,o,a,t,i,n);else{var l=i?i(th(e,o),s,o+"",e,r,n):void 0;void 0===l&&(l=s),X(e,o,l)}},td.default)},tp=(0,t.i(273990).default)(function(t,e,r){tu(t,e,r)});var tf="​",tg={curveBasis:n.curveBasis,curveBasisClosed:s.curveBasisClosed,curveBasisOpen:o.curveBasisOpen,curveBumpX:l.curveBumpX,curveBumpY:h.curveBumpY,curveBundle:_,curveCardinalClosed:x,curveCardinalOpen:b,curveCardinal:g,curveCatmullRomClosed:L,curveCatmullRomOpen:O,curveCatmullRom:M,curveLinear:C.curveLinear,curveLinearClosed:T.curveLinearClosed,curveMonotoneX:R.curveMonotoneX,curveMonotoneY:B.curveMonotoneY,curveNatural:N.curveNatural,curveStep:P.curveStep,curveStepAfter:W.curveStepAfter,curveStepBefore:A.curveStepBefore},ty=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,tx=(0,a.__name)(function(t,e){let r=tm(t,/(?:init\b)|(?:initialize\b)/),i={};if(Array.isArray(r)){let t=r.map(t=>t.args);(0,a.sanitizeDirective)(t),i=(0,a.assignWithDepth_default)(i,[...t])}else i=r.args;if(!i)return;let n=(0,a.detectType)(t,e),s="config";return void 0!==i[s]&&("flowchart-v2"===n&&(n="flowchart"),i[n]=i[s],delete i[s]),i},"detectInit"),tm=(0,a.__name)(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{let n,s=RegExp("[%]{2}(?![{]".concat(ty.source,")(?=[}][%]{2}).*\n"),"ig");t=t.trim().replace(s,"").replace(/'/gm,'"'),a.log.debug("Detecting diagram directive".concat(null!==e?" type:"+e:""," based on the text:").concat(t));let o=[];for(;null!==(n=a.directiveRegex.exec(t));){var r,i;if(n.index===a.directiveRegex.lastIndex&&a.directiveRegex.lastIndex++,n&&!e||e&&(null==(r=n[1])?void 0:r.match(e))||e&&(null==(i=n[2])?void 0:i.match(e))){let t=n[1]?n[1]:n[2],e=n[3]?n[3].trim():n[4]?JSON.parse(n[4].trim()):null;o.push({type:t,args:e})}}if(0===o.length)return{type:t,args:null};return 1===o.length?o[0]:o}catch(r){return a.log.error("ERROR: ".concat(r.message," - Unable to parse directive type: '").concat(e,"' based on the text: '").concat(t,"'")),{type:void 0,args:null}}},"detectDirective"),tb=(0,a.__name)(function(t){return t.replace(a.directiveRegex,"")},"removeDirectives"),tv=(0,a.__name)(function(t,e){for(let[r,a]of e.entries())if(a.match(t))return r;return -1},"isSubstringInArray");function tk(t,e){var r;return t&&null!=(r=tg["curve".concat(t.charAt(0).toUpperCase()+t.slice(1))])?r:e}function tw(t,e){let r=t.trim();if(r)return"loose"!==e.securityLevel?(0,i.sanitizeUrl)(r):r}(0,a.__name)(tk,"interpolateToCurve"),(0,a.__name)(tw,"formatUrl");var tM=(0,a.__name)(function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];let n=t.split("."),s=n.length-1,o=n[s],l=window;for(let e=0;e<s;e++)if(!(l=l[n[e]]))return void a.log.error("Function name: ".concat(t," not found in window"));l[o](...r)},"runFunc");function tS(t,e){return t&&e?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0}function tL(t){let e,r=0;return t.forEach(t=>{r+=tS(t,e),e=t}),tC(t,r/2)}function tE(t){return 1===t.length?t[0]:tL(t)}(0,a.__name)(tS,"distance"),(0,a.__name)(tL,"traverseEdge"),(0,a.__name)(tE,"calcLabelPosition");var tO=(0,a.__name)(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=Math.pow(10,e);return Math.round(t*r)/r},"roundNumber"),tC=(0,a.__name)((t,e)=>{let r,a=e;for(let e of t){if(r){let t=tS(e,r);if(0===t)return r;if(t<a)a-=t;else{let i=a/t;if(i<=0)return r;if(i>=1)return{x:e.x,y:e.y};if(i>0&&i<1)return{x:tO((1-i)*r.x+i*e.x,5),y:tO((1-i)*r.y+i*e.y,5)}}}r=e}throw Error("Could not find a suitable point for the given distance")},"calculatePoint"),tT=(0,a.__name)((t,e,r)=>{a.log.info("our points ".concat(JSON.stringify(e))),e[0]!==r&&(e=e.reverse());let i=tC(e,25),n=t?10:5,s=Math.atan2(e[0].y-i.y,e[0].x-i.x),o={x:0,y:0};return o.x=Math.sin(s)*n+(e[0].x+i.x)/2,o.y=-Math.cos(s)*n+(e[0].y+i.y)/2,o},"calcCardinalityPosition");function tR(t,e,r){let i=structuredClone(r);a.log.info("our points",i),"start_left"!==e&&"start_right"!==e&&i.reverse();let n=tC(i,25+t),s=10+.5*t,o=Math.atan2(i[0].y-n.y,i[0].x-n.x),l={x:0,y:0};return"start_left"===e?(l.x=Math.sin(o+Math.PI)*s+(i[0].x+n.x)/2,l.y=-Math.cos(o+Math.PI)*s+(i[0].y+n.y)/2):"end_right"===e?(l.x=Math.sin(o-Math.PI)*s+(i[0].x+n.x)/2-5,l.y=-Math.cos(o-Math.PI)*s+(i[0].y+n.y)/2-5):"end_left"===e?(l.x=Math.sin(o)*s+(i[0].x+n.x)/2-5,l.y=-Math.cos(o)*s+(i[0].y+n.y)/2-5):(l.x=Math.sin(o)*s+(i[0].x+n.x)/2,l.y=-Math.cos(o)*s+(i[0].y+n.y)/2),l}function tB(t){let e="",r="";for(let a of t)void 0!==a&&(a.startsWith("color:")||a.startsWith("text-align:")?r=r+a+";":e=e+a+";");return{style:e,labelStyle:r}}(0,a.__name)(tR,"calcTerminalLabelPosition"),(0,a.__name)(tB,"getStylesFromArray");var tN=0,tP=(0,a.__name)(()=>(tN++,"id-"+Math.random().toString(36).substr(2,12)+"-"+tN),"generateId");function tW(t){let e="",r="0123456789abcdef",a=r.length;for(let i=0;i<t;i++)e+=r.charAt(Math.floor(Math.random()*a));return e}(0,a.__name)(tW,"makeRandomHex");var tA=(0,a.__name)(t=>tW(t.length),"random"),tz=(0,a.__name)(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),tH=(0,a.__name)(function(t,e){let r=e.text.replace(a.common_default.lineBreakRegex," "),[,i]=tQ(e.fontSize),n=t.append("text");n.attr("x",e.x),n.attr("y",e.y),n.style("text-anchor",e.anchor),n.style("font-family",e.fontFamily),n.style("font-size",i),n.style("font-weight",e.fontWeight),n.attr("fill",e.fill),void 0!==e.class&&n.attr("class",e.class);let s=n.append("tspan");return s.attr("x",e.x+2*e.textMargin),s.attr("fill",e.fill),s.text(r),n},"drawSimpleText"),tj=(0,H.default)((t,e,r)=>{if(!t||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),a.common_default.lineBreakRegex.test(t)))return t;let i=t.split(" ").filter(Boolean),n=[],s="";return i.forEach((t,a)=>{let o=tX("".concat(t," "),r),l=tX(s,r);if(o>e){let{hyphenatedStrings:a,remainingWord:i}=tF(t,e,"-",r);n.push(s,...a),s=i}else l+o>=e?(n.push(s),s=t):s=[s,t].filter(Boolean).join(" ");a+1===i.length&&n.push(s)}),n.filter(t=>""!==t).join(r.joinWith)},(t,e,r)=>"".concat(t).concat(e).concat(r.fontSize).concat(r.fontWeight).concat(r.fontFamily).concat(r.joinWith)),tF=(0,H.default)(function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",a=arguments.length>3?arguments[3]:void 0;a=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},a);let i=[...t],n=[],s="";return i.forEach((t,o)=>{let l="".concat(s).concat(t);if(tX(l,a)>=e){let t=i.length===o+1,e="".concat(l).concat(r);n.push(t?l:e),s=""}else s=l}),{hyphenatedStrings:n,remainingWord:s}},function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",a=arguments.length>3?arguments[3]:void 0;return"".concat(t).concat(e).concat(r).concat(a.fontSize).concat(a.fontWeight).concat(a.fontFamily)});function tI(t,e){return tY(t,e).height}function tX(t,e){return tY(t,e).width}(0,a.__name)(tI,"calculateTextHeight"),(0,a.__name)(tX,"calculateTextWidth");var tY=(0,H.default)((t,e)=>{let{fontSize:r=12,fontFamily:i="Arial",fontWeight:n=400}=e;if(!t)return{width:0,height:0};let[,s]=tQ(r),o=t.split(a.common_default.lineBreakRegex),l=[],h=(0,z.select)("body");if(!h.remove)return{width:0,height:0,lineHeight:0};let c=h.append("svg");for(let t of["sans-serif",i]){let e=0,r={width:0,height:0,lineHeight:0};for(let a of o){let i=tz();i.text=a||tf;let o=tH(c,i).style("font-size",s).style("font-weight",n).style("font-family",t),l=(o._groups||o)[0][0].getBBox();if(0===l.width&&0===l.height)throw Error("svg element not in render tree");r.width=Math.round(Math.max(r.width,l.width)),e=Math.round(l.height),r.height+=e,r.lineHeight=Math.round(Math.max(r.lineHeight,e))}l.push(r)}c.remove();let d=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[d]},(t,e)=>"".concat(t).concat(e.fontSize).concat(e.fontWeight).concat(e.fontFamily)),tU=(e=class{constructor(t=!1,e){this.count=0,this.count=e?e.length:0,this.next=t?()=>this.count++:()=>Date.now()}},(0,a.__name)(e,"InitIDGenerator"),e),tD=(0,a.__name)(function(t){return r=r||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),r.innerHTML=t,unescape(r.textContent)},"entityDecode");function tq(t){return"str"in t}(0,a.__name)(tq,"isDetailedError");var tZ=(0,a.__name)((t,e,r,a)=>{var i;if(!a)return;let n=null==(i=t.node())?void 0:i.getBBox();n&&t.append("text").text(a).attr("text-anchor","middle").attr("x",n.x+n.width/2).attr("y",-r).attr("class",e)},"insertTitle"),tQ=(0,a.__name)(t=>{if("number"==typeof t)return[t,t+"px"];let e=parseInt(null!=t?t:"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function tG(t,e){return tp({},t,e)}(0,a.__name)(tG,"cleanAndMerge");var tK={assignWithDepth:a.assignWithDepth_default,wrapLabel:tj,calculateTextHeight:tI,calculateTextWidth:tX,calculateTextDimensions:tY,cleanAndMerge:tG,detectInit:tx,detectDirective:tm,isSubstringInArray:tv,interpolateToCurve:tk,calcLabelPosition:tE,calcCardinalityPosition:tT,calcTerminalLabelPosition:tR,formatUrl:tw,getStylesFromArray:tB,generateId:tP,random:tA,runFunc:tM,entityDecode:tD,insertTitle:tZ,parseFontSize:tQ,InitIDGenerator:tU},t$=(0,a.__name)(function(t){let e=t;return(e=(e=e.replace(/style.*:\S*#.*;/g,function(t){return t.substring(0,t.length-1)})).replace(/classDef.*:\S*#.*;/g,function(t){return t.substring(0,t.length-1)})).replace(/#\w+;/g,function(t){let e=t.substring(1,t.length-1);return/^\+?\d+$/.test(e)?"ﬂ°°"+e+"¶ß":"ﬂ°"+e+"¶ß"})},"encodeEntities"),tJ=(0,a.__name)(function(t){return t.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),tV=(0,a.__name)((t,e,r,a)=>{let{counter:i=0,prefix:n,suffix:s}=r;return a||"".concat(n?"".concat(n,"_"):"").concat(t,"_").concat(e,"_").concat(i).concat(s?"_".concat(s):"")},"getEdgeId");function t0(t){return null!=t?t:null}(0,a.__name)(t0,"handleUndefinedAttr")},642585,t=>{"use strict";t.s(["getSubGraphTitleMargins",()=>e]);var e=(0,t.i(372534).__name)(t=>{var e,r,a,i;let{flowchart:n}=t,s=null!=(a=null==n||null==(e=n.subGraphTitleMargin)?void 0:e.top)?a:0,o=null!=(i=null==n||null==(r=n.subGraphTitleMargin)?void 0:r.bottom)?i:0;return{subGraphTitleTopMargin:s,subGraphTitleBottomMargin:o,subGraphTitleTotalMargin:s+o}},"getSubGraphTitleMargins")}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="218a40d9-33e4-51d7-a3be-47426d61b586")}catch(e){}}();
//# debugId=218a40d9-33e4-51d7-a3be-47426d61b586
